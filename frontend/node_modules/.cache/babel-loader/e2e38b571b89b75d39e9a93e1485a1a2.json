{"ast":null,"code":"import _defineProperty from \"/Users/jonathanferreira/Downloads/gostack-fullstack-meetapp-master/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/jonathanferreira/Downloads/gostack-fullstack-meetapp-master/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jonathanferreira/Downloads/gostack-fullstack-meetapp-master/frontend/src/pages/Meetup/index.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { format, parseISO } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport { MdEdit, MdDateRange, MdLocationOn } from 'react-icons/md';\nimport { pt } from 'date-fns/locale';\nimport api from \"../../services/api\";\nimport history from \"../../services/history\";\nimport { Container, Details, Subscriptions } from './styles';\nexport default function Meetup({\n  match\n}) {\n  const id = match.params.id;\n\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        loading = _useState2[0],\n        setLoading = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        meetup = _useState4[0],\n        setMeetup = _useState4[1];\n\n  useEffect(() => {\n    async function loadMeetup() {\n      try {\n        const response = await api.get(\"organizers/\".concat(id));\n        setMeetup(_objectSpread({}, response.data.meetup, {\n          subscriptions: response.data.subscriptions,\n          formattedDate: format(parseISO(response.data.meetup.date), \"dd 'de' MMMM 'de' yyyy 'às' HH'h'mm\", {\n            locale: pt\n          })\n        }));\n        setLoading(false);\n      } catch (err) {\n        toast.error('Meetup not found.');\n        history.push('/');\n      }\n    }\n\n    loadMeetup();\n  }, [id]);\n\n  function handleEdit() {\n    history.push(\"/meetups/\".concat(id, \"/edit\"));\n  }\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, loading ? React.createElement(\"div\", {\n    className: \"loading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(Loader, {\n    type: \"TailSpin\",\n    color: \"#e65175\",\n    width: 32,\n    height: 32,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })) : React.createElement(Details, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, meetup.title), !meetup.past && React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"edit\",\n    onClick: handleEdit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(MdEdit, {\n    size: 16,\n    color: \"#fff\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), \"Edit\"))), React.createElement(\"article\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: meetup.banner.url,\n    alt: meetup.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, meetup.description), React.createElement(\"footer\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(MdDateRange, {\n    size: 18,\n    color: \"#e65175\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), meetup.formattedDate), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(MdLocationOn, {\n    size: 18,\n    color: \"#e65175\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), meetup.location)), meetup.subscriptions.length >= 1 && React.createElement(Subscriptions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, meetup.subscriptions.slice(0, 10).map((sub, index) => React.createElement(\"img\", {\n    style: {\n      zIndex: 10 - index\n    },\n    key: String(index),\n    src: \"https://ui-avatars.com/api/?background=D44059&color=fff&name=\".concat(sub.user.name),\n    alt: sub.user.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), meetup.subscriptions.length > 10 && React.createElement(\"img\", {\n    src: \"https://ui-avatars.com/api/?background=D44059&color=fff&name=%2B+\".concat(meetup.subscriptions.length),\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, meetup.subscriptions.length), \" subscribers\", meetup.subscriptions.length > 1 && 's')))))));\n}\nMeetup.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired\n    })\n  }).isRequired\n};","map":{"version":3,"sources":["/Users/jonathanferreira/Downloads/gostack-fullstack-meetapp-master/frontend/src/pages/Meetup/index.js"],"names":["React","useState","useEffect","format","parseISO","toast","PropTypes","Loader","MdEdit","MdDateRange","MdLocationOn","pt","api","history","Container","Details","Subscriptions","Meetup","match","id","params","loading","setLoading","meetup","setMeetup","loadMeetup","response","get","data","subscriptions","formattedDate","date","locale","err","error","push","handleEdit","title","past","banner","url","description","location","length","slice","map","sub","index","zIndex","String","user","name","propTypes","shape","string","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { format, parseISO } from 'date-fns';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport Loader from 'react-loader-spinner';\nimport { MdEdit, MdDateRange, MdLocationOn } from 'react-icons/md';\n\nimport { pt } from 'date-fns/locale';\nimport api from '~/services/api';\nimport history from '~/services/history';\n\nimport { Container, Details, Subscriptions } from './styles';\n\nexport default function Meetup({ match }) {\n  const { id } = match.params;\n\n  const [loading, setLoading] = useState(true);\n  const [meetup, setMeetup] = useState(null);\n\n  useEffect(() => {\n    async function loadMeetup() {\n      try {\n        const response = await api.get(`organizers/${id}`);\n        setMeetup({\n          ...response.data.meetup,\n          subscriptions: response.data.subscriptions,\n          formattedDate: format(\n            parseISO(response.data.meetup.date),\n            \"dd 'de' MMMM 'de' yyyy 'às' HH'h'mm\",\n            {\n              locale: pt,\n            }\n          ),\n        });\n\n        setLoading(false);\n      } catch (err) {\n        toast.error('Meetup not found.');\n        history.push('/');\n      }\n    }\n\n    loadMeetup();\n  }, [id]);\n\n  function handleEdit() {\n    history.push(`/meetups/${id}/edit`);\n  }\n\n  return (\n    <Container>\n      {loading ? (\n        <div className=\"loading\">\n          <Loader type=\"TailSpin\" color=\"#e65175\" width={32} height={32} />\n        </div>\n      ) : (\n        <Details>\n          <header>\n            <h2>{meetup.title}</h2>\n\n            {!meetup.past && (\n              <nav>\n                <button type=\"button\" className=\"edit\" onClick={handleEdit}>\n                  <MdEdit size={16} color=\"#fff\" />\n                  Edit\n                </button>\n              </nav>\n            )}\n          </header>\n\n          <article>\n            <div>\n              <img src={meetup.banner.url} alt={meetup.title} />\n            </div>\n\n            <div>\n              <p>{meetup.description}</p>\n\n              <footer>\n                <div className=\"info\">\n                  <p>\n                    <MdDateRange size={18} color=\"#e65175\" />\n                    {meetup.formattedDate}\n                  </p>\n                  <p>\n                    <MdLocationOn size={18} color=\"#e65175\" />\n                    {meetup.location}\n                  </p>\n                </div>\n                {meetup.subscriptions.length >= 1 && (\n                  <Subscriptions>\n                    <div>\n                      {meetup.subscriptions.slice(0, 10).map((sub, index) => (\n                        <img\n                          style={{\n                            zIndex: 10 - index,\n                          }}\n                          key={String(index)}\n                          src={`https://ui-avatars.com/api/?background=D44059&color=fff&name=${sub.user.name}`}\n                          alt={sub.user.name}\n                        />\n                      ))}\n                      {meetup.subscriptions.length > 10 && (\n                        <img\n                          src={`https://ui-avatars.com/api/?background=D44059&color=fff&name=%2B+${meetup.subscriptions.length}`}\n                          alt=\"\"\n                        />\n                      )}\n                    </div>\n                    <span>\n                      <strong>{meetup.subscriptions.length}</strong> subscribers\n                      {meetup.subscriptions.length > 1 && 's'}\n                    </span>\n                  </Subscriptions>\n                )}\n              </footer>\n            </div>\n          </article>\n        </Details>\n      )}\n    </Container>\n  );\n}\n\nMeetup.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}